<html><head><link rel="import" href="../bower_components/polymer/polymer-element.html"><link rel="import" href="./audio-functions.html"></head><body><dom-module id="audio-panner-set-roll-model"><template><style include="shared-styles-typeF">:host{width:100%;margin-right:0px;}section{display:none;}section[show]{display:flex;flex-flow:row;}paper-item[sellected]{background-color:chartreuse;}paper-icon-button.diferent{color:var(--app-color);}div[close-button]{right:1%;top:-12px;}.showValueswraper{right:38%;}.labelforvol{color:var(--app-progress-color);}div[buttons]{position:relative;left:137px;padding:7px;display:flex;flex-flow:row;width:63px;}div[block]{width:177px;padding:2px;box-shadow:0px 1px 0px #939292;}div[block2]{box-sizing:border-box;margin-right:1px;width:175px;box-shadow:1px 1px 1px #939292;border-radius:var(--app-standart-border-radius);padding:7px;}div[outer]{font-size:9px;}.shutiit{display:none;}.shutiit[nothere]{display:block;}paper-dropdown-menu.custom{background-color:initial;}</style><article><nav class="independent"><div><label id="frovol" class="labelforvol" for="vol" waiting$="[[waiting]]" ready$="[[rEady]]">[[titleFuncion]]</label></div><div buttons=""><div class="showValueswraper" on-click="showValues" show$="[[show]]"><paper-icon-button noink="" icon="unfold-less" title="close" class="none showValues" show$="[[show]]"></paper-icon-button><paper-icon-button noink="" icon="unfold-more" title="open" class="none showValues" show$="[[!show]]"></paper-icon-button></div><div close-button="" class="buttShow" show$="[[show]]" on-click="removeCall"><paper-icon-button noink="" icon="close" title="remove"></paper-icon-button></div></div></nav><section show$="[[show]]"><div block2="" class="shutiit" nothere$="[[nothere]]"><aside id="vol"><paper-input class="diferent" title="" label="[[typeX]]" size="3" min="-3.4" max="3.4" step="0.05" value="{{valX}}"></paper-input></aside><div outer=""><template is="dom-if" if="{{titleSet}}"><audio-aplly-with id="aplyWith" agent-class="[[agentClass]]" title-funcion="[[joinTitle(titleFuncion, typeX)]]" elem-title="[[elemTitle]]"><paper-button slot="applyButton" id="apllyNow" on-click="bindX">aplly now</paper-button></audio-aplly-with></template></div></div><div block2="" class="shutiit" nothere$="[[!nothere]]"><aside outer=""><paper-dropdown-menu class="custom custom2" label="[[typeX]]"><paper-listbox slot="dropdown-content" class="dropdown-content" selected="0"><template is="dom-repeat" items="{{distModels}}" as="option" mutable-data="true"><paper-item on-click="bindXOption" id="[[option]]" value="[[option]]">[[option]]</paper-item></template></paper-listbox></paper-dropdown-menu></aside></div></section></article></template><script>class audioPannerSetRollModel extends Polymer.Element{static get is(){return"audio-panner-set-roll-model"}constructor(){super()}static get properties(){return{agentClass:{type:Object},contextNode:{type:Object},elemTitle:{type:String,notify:!0},type:{type:String},typeX:{type:String},valX:{type:Number,value:0},rEady:{type:Boolean,value:!1,notify:!0,reflectToAttribute:!0},waiting:{type:Boolean,value:!1,notify:!0,reflectToAttribute:!0},nothere:{type:Boolean,value:!1,notify:!0,reflectToAttribute:!0},titleFuncion:{type:String},typeFuncion:{type:String,observer:"calcTitles"},titles:{type:Array,value:[]},titleObj:{type:Object,value:function(){return titleObj}},rEady:{type:Boolean,value:!1,notify:!0,reflectToAttribute:!0},waiting:{type:Boolean,value:!1,notify:!0,reflectToAttribute:!0},show:{type:Boolean,value:!0,notify:!0,reflectToAttribute:!0},setTimeout:Number,bindVal:Number,titleSet:{type:Boolean,value:!1},distModels:{type:Array,value:function(){return["Models","equalpower","HRTF"]},notify:!0}}}ready(){super.ready()}removeCall(){this.agentClass.revoveElemTitle(()=>{window.dispatchEvent(new CustomEvent("apllywith",{detail:{title:this.elemTitle}}));this.parentElement.removeChild(this)},this.elemTitle)}showValues(){this.show=!this.show}calcTitles(functionType){let strMap=functionType.toLocaleLowerCase();if("rolloff"===strMap){this.typeX="rolloffFactor";this.nothere=!0;this.titleSet=!0}else{this.typeX="panningModel"}}joinTitle(arg1,arg2){let str=arg1.split(" ").join("")+arg2;return str}bindXOption(item){this.bindVal=item.model.__data.option;this.type=this.typeX;this.apllyNow()}bindX(){this.bindVal=this.valX;this.type=this.typeX;this.apllyNow()}apllyNow(){let that=this.agentClass;this.$.frovol.innerHTML="Waitng...";this.waiting=!0;let name=this.elemTitle+this.titleFuncion.split(" ").join("").toLocaleUpperCase();that.setAgentParamTo(err=>{if(!err){if(that.appliesWith[name]){for(let i=0;i<that.appliesWith[name].length;i++){that.appliesWith[name][i].elem.click()}}setTimeout(()=>{this.waiting=!this.waiting;this.$.frovol.innerHTML="ready...";this.waiting=!1;this.rEady=!0},500);setTimeout(()=>{this.$.frovol.innerHTML=this.titleFuncion;this.rEady=!1},1500)}else{console.error(err);this.$.frovol.innerHTML="Something Went Wrong...";this.waiting=!0;setTimeout(()=>{this.$.frovol.innerHTML=this.titleFuncion;this.waiting=!1},3e3)}},this.contextNode,this.type,null,this.bindVal,null,null,!1)}}window.customElements.define(audioPannerSetRollModel.is,audioPannerSetRollModel);</script></dom-module></body></html>
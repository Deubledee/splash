<html><head><link rel="import" href="../bower_components/polymer/polymer-element.html"></head><body><dom-module id="audio-set-func-at-time"><template><style include="shared-styles-typeF">:host{width:100%;margin-right:0px;}aside[id=start][notHere]{display:none;}section[list-box-hiden]{display:none;}section[list-box-hiden][boxShow]{display:block;}paper-item[sellected]{background-color:chartreuse;}span{color:var(--app-color);}</style><article><nav class="independent"><div><label id="frovol" class="labelforvol" for="vol" waiting$="[[waiting]]" ready$="[[rEady]]">[[titleFuncion]]</label></div><div class="showValueswraper" on-click="showValues" show$="[[show]]"><paper-icon-button noink="" icon="unfold-less" title="close" class="none showValues" show$="[[show]]"></paper-icon-button><paper-icon-button noink="" icon="unfold-more" title="open" class="none showValues" show$="[[!show]]"></paper-icon-button></div><div close-button="" class="buttShow" show$="[[show]]" on-click="removeCall"><paper-icon-button noink="" icon="close" title="remove"></paper-icon-button></div></nav><div><span>[[min]] </span><span>[[max]]</span></div><section class="show" show$="[[show]]"><template is="dom-repeat" items="{{titles}}" as="title" mutable-data="true"><aside id="vol"><paper-input class="diferent" title="[[title.bindVolTitle]]" label="value" size="3" min="-3.4" max="3.4" step="0.05" value="{{bindVol}}"></paper-input></aside><aside id="start" nothere$="[[notHere]]"><paper-input class="diferent" title="[[title.bindStartTitle]]" label="startAt" size="3" min="-3.4" max="3.4" step="0.05" value="{{bindStart}}"></paper-input></aside></template></section><section class="inputin" show$="[[show]]"><audio-aplly-with id="aplyWith" agent-class="[[agentClass]]" title-funcion="[[titleFuncion]]" elem-title="[[elemTitle]]"><paper-button slot="applyButton" id="apllyNow" on-click="apllyNow">aplly now</paper-button></audio-aplly-with></section></article></template><script>const titleObj={setValueAtTime:{bindVolTitle:"",bindStartTitle:""},linearRampToValueAtTime:{bindVolTitle:"",bindStartTitle:""},exponentialRampToValueAtTime:{bindVolTitle:"",bindStartTitle:""},cancelScheduledValues:{bindVolTitle:"",bindStartTitle:""},cancelAndHoldAtTime:{bindVolTitle:"",bindStartTitle:""}};class audioSetFuncAtTime extends Polymer.Element{static get is(){return"audio-set-func-at-time"}constructor(){super()}static get properties(){return{agentClass:{type:Object},contextNode:{type:Object},elemTitle:{type:String,notify:!0},type:{type:String},notHere:{type:Boolean,value:!1,notify:!0},titleFuncion:{type:String},typeFuncion:{type:String,observer:"calcTitles"},titles:{type:Array,value:[]},max:{type:String},min:{type:String},titleObj:{type:Object,value:function(){return titleObj}},rEady:{type:Boolean,value:!1,notify:!0,reflectToAttribute:!0},waiting:{type:Boolean,value:!1,notify:!0,reflectToAttribute:!0},bindVol:{type:Number,value:0},bindStart:{type:Number,value:0},aplyIn:{type:String,value:"0"},show:{type:Boolean,value:!1,notify:!0,reflectToAttribute:!0},setTimeout:Number}}ready(){super.ready();if(0<this.titleFuncion.indexOf("ancel")){this.notHere=!0}this.max=""+this.contextNode[this.type].maxValue;this.min=""+this.contextNode[this.type].minValue;this.max=this.max.slice(0,4);this.min=this.min.slice(0,4)+" >="}escape(value){let bol=!0;if("exponentialRampToValueAtTime"===this.typeFuncion&&!0!==this.isFloat(value)){this.$.frovol.style.fontSize="9px";this.$.frovol.innerHTML="decimal value > 0.0 ";this.waiting=!1;this.rEady=!0;bol=!1;setTimeout(()=>{this.$.frovol.innerHTML=this.titleFuncion;this.$.frovol.style="initial";this.rEady=!1},2e3)}return bol}isFloat(n){return+parseFloat(n)===n&&0!==n%1}removeCall(){this.agentClass.revoveFunction(()=>{window.dispatchEvent(new CustomEvent("apllywith",{detail:{title:this.elemTitle}}));this.parentElement.removeChild(this)},this.elemTitle,this.titleFuncion)}showValues(){this.show=!this.show}calcTitles(functionType){let arr=[this.titleObj[functionType]];this.titles=arr}apllyNow(){let that=this.agentClass;this.$.frovol.innerHTML="Waitng...";this.waiting=!0;let name=this.elemTitle+this.titleFuncion.split(" ").join("").toLocaleUpperCase();if(!0===this.escape(parseFloat(this.bindVol))){that.setAgentParamTo(err=>{if(null===err){if(that.appliesWith[name]){for(let i=0;i<that.appliesWith[name].length;i++){that.appliesWith[name][i].elem.click()}}if("threshold"===this.type||"knee"===this.type||"ratio"===this.type||"attack"===this.type||"release"===this.type){window.dispatchEvent(new CustomEvent("compressor-changed",{}));console.log(this.type)}setTimeout(()=>{this.waiting=!this.waiting;this.$.frovol.innerHTML="ready...";this.waiting=!1;this.rEady=!0},500);setTimeout(()=>{this.$.frovol.innerHTML=this.titleFuncion;this.rEady=!1},1500)}else{console.error(err);this.$.frovol.innerHTML="Something Went Wrong...";this.waiting=!0;setTimeout(()=>{this.$.frovol.innerHTML=this.titleFuncion;this.waiting=!1},3e3)}},this.contextNode,this.type,this.typeFuncion,parseFloat(this.bindVol),parseFloat(this.bindStart),null,!0)}}}window.customElements.define(audioSetFuncAtTime.is,audioSetFuncAtTime);</script></dom-module></body></html>
<html><head><link rel="import" href="../bower_components/polymer/polymer-element.html"><link rel="import" href="./audio-functions.html"></head><body><dom-module id="audio-wave-shaper"><template><style include="shared-styles-typeG">:host{margin-right:var(--app-standart-border-radius);}article{border-radius:var(--app-standart-border-radius);margin-top:6px;width:164px;background-color:var(--app-primary-background-color);padding-left:9px;display:flex;flex-flow:column;}span,
            label[for=range]{color:var(--app-color);}.labelforvol{position:relative;font-weight:600;left:-3px;color:var(--app-type-labelforvol-color);top:0px;border-radius:var(--app-standart-border-radius);padding:3px;font-size:var(--app-type-labelforvol-font-size);text-shadow:var(--app-type-labelforvol-text-shadow);}.labelforvol[rEady]{background-color:var(--app-type-labelforvol-Ready-background-color);font-size:var(--app-type-labelforvol-font-size);}.labelforvol[waiting]{background-color:var(--app-type-labelforvol-waiting-background-color);font-size:var(--app-type-labelforvol-font-size);}.open[open]{height:auto;}audio{width:128px;}paper-icon-button{color:var(--app-color);}paper-icon-button{display:none;}section[list-box-hiden]{display:none;}section[list-box-hiden][boxShow]{display:block;}paper-item[sellected]{background-color:chartreuse;}paper-button[slot="applyButton"]{top:8px;}.inputin{display:none;}.inputin aside{position:relative;flex-basis:84px;top:9px;}aside[apllyWith]{position:relative;top:1px;}.inputin[open]{height:41px;display:inline-flex;flex-flow:row;color:#000000;font-size:8px;}</style><article><label for="range">[[elemTitle]] <span>[[type]]</span> <button on-click="removeCall">x</button></label><section id="title" class="open" open$="[[!open]]"><label id="frovol" class="labelforvol" for="vol" waiting$="[[waiting]]" ready$="[[rEady]]">Distortion Values</label><paper-item><paper-item-body two-line=""><paper-input class="diferent" title="overSample" label="overSample" value="{{overSample}}"></paper-input><paper-input class="diferent" title="amount" label="wave amount" value="{{amount}}"></paper-input></paper-item-body></paper-item></section><section id="title" class="inputin open" open$="[[!open]]"><audio-aplly-with id="aplyWith" agent-class="[[agentClass]]" title-funcion="[[titleFuncion]]"><paper-button slot="applyButton" id="apllyNow" on-click="apllyNow">aplly now</paper-button></audio-aplly-with></section><div class="open divtitle-area" open$="[[open]]"><section id="title" class="open" open$="[[open]]"><paper-input class="diferent" id="titleInput" min="0" max="5" step="0.5" label="new title" title="new title" value="{{elemTitle}}"></paper-input><paper-button on-click="submit" raised="">aplly title</paper-button></section></div></article></template><script>class audioWaveShaper extends Polymer.Element{static get is(){return"audio-wave-shaper"}constructor(){super()}ready(){super.ready()}static get properties(){return{contextNode:{type:Object},elemTitle:{type:String,notify:!0},titleFuncion:{type:String,notify:!0,value:"distortion values"},type:{type:String,value:"distortion"},agentClass:{type:Object,notify:!0},open:{type:Boolean,value:!0,notify:!0,reflectToAttribute:!0},show:{type:Boolean,value:!1,notify:!0,reflectToAttribute:!0},overSample:{type:Number,value:2},amount:{type:Number,value:100}}}setContextNode(elemTitle){let that=this.agentClass;this.contextNode=that.contextNode[elemTitle]}removeCall(){if(this.agentClass.contextNode[this.elemTitle]){window.dispatchEvent(new CustomEvent("remove-elem",{detail:{title:this.elemTitle}}));this.agentClass.removeAgents(()=>{this.agentClass.revoveElemTitle(()=>{window.dispatchEvent(new CustomEvent("apllywith",{}));this.parentElement.removeChild(this)},this.elemTitle)},"contextNode",this.elemTitle)}else{this.parentElement.removeChild(this);window.dispatchEvent(new CustomEvent("remove-elem",{detail:{title:this.elemTitle}}))}}submit(){if(0<this.$.titleInput.value.length){this.elemTitle=this.elemTitle.split(" ").join("");this.agentClass.waveShaper(error=>{if(!error){var that=this;window.dispatchEvent(new CustomEvent("connect",{detail:{element:that}}));this.setContextNode(this.elemTitle);window.dispatchEvent(new CustomEvent("elemem-title",{detail:{title:this.elemTitle}}));this.$.aplyWith.elemTitle=this.elemTitle;this.open=!1;this.show=!0}else{this.$.titleInput.value=error;setTimeout(()=>{this.$.titleInput.value=""},1e3)}},this.elemTitle,this.overSample,this.amount)}}apllyNow(){let that=this.agentClass;this.$.frovol.innerHTML="Waitng...";this.waiting=!0;let name=this.elemTitle+this.titleFuncion.split(" ").join("").toLocaleUpperCase();that.setAgentParamTo(err=>{if(!err){if(that.appliesWith[name]){for(let i=0;i<that.appliesWith[name].length;i++){that.appliesWith[name][i].elem.click()}}setTimeout(()=>{this.waiting=!this.waiting;this.$.frovol.innerHTML="ready...";this.waiting=!1;this.rEady=!0},500);setTimeout(()=>{this.$.frovol.innerHTML=this.titleFuncion;this.rEady=!1},1500)}else{console.error(err);this.$.frovol.innerHTML="Something Went Wrong...";this.waiting=!0;setTimeout(()=>{this.$.frovol.innerHTML=this.titleFuncion;this.waiting=!1},3e3)}},this.contextNode,"overSample","curve",this.overSample+"x",this.amount,!1)}}window.customElements.define(audioWaveShaper.is,audioWaveShaper);</script></dom-module></body></html>
<html><head><link rel="import" href="../bower_components/polymer/polymer-element.html"></head><body><dom-module id="audio-set-target-at-time"><template><style include="shared-styles-typeF">:host{width:100%;margin-right:0px;}section[list-box-hiden]{display:none;}section[list-box-hiden][boxShow]{display:block;}paper-item[sellected]{background-color:chartreuse;}span{color:var(--app-color);}</style><app-location route="{{route}}"></app-location><app-route route="{{route}}" pattern="/:page" data="{{routeData}}" tail="{{subroute}}" query-params="{{query}}"></app-route><article><nav class="independent"><div><label id="frovol" class="labelforvol" for="vol" waiting$="[[waiting]]" ready$="[[rEady]]">[[titleFuncion]]</label></div><div class="showValueswraper" on-click="showValues" show$="[[show]]"><paper-icon-button noink="" icon="unfold-less" title="find" class="none showValues" show$="[[show]]"></paper-icon-button><paper-icon-button noink="" icon="unfold-more" title="find" class="none showValues" show$="[[!show]]"></paper-icon-button></div><div close-button="" class="buttShow" show$="[[show]]" on-click="removeCall"><paper-icon-button noink="" icon="close" title="remove"></paper-icon-button></div></nav><div><span>[[min]] </span><span>[[max]]</span></div><section class="show" show$="[[show]]"><aside id="vol"><paper-input class="diferent" title="The target value to transition towards, at the given 'start'" label="target" size="3" min="-3.4" max="3.4" step="0.05" value="{{bindVol}}"></paper-input></aside><aside id="start"><paper-input class="diferent" title="The time the 'expTime' transition will begin" label="startAt" size="3" min="-3.4" max="3.4" step="0.05" value="{{bindStart}}"></paper-input></aside><aside id="timeConst"><paper-input class="diferent" title="The exponential value to reach the target, the larger the slower the transition, useful for decay or release portions of envelopes" label="expTime" size="3" min="-3.4" max="3.4" step="0.05" value="{{bindConst}}"></paper-input></aside></section><section class="inputin" show$="[[show]]"><audio-aplly-with id="aplyWith" agent-class="[[agentClass]]" title-funcion="[[titleFuncion]]" elem-title="[[elemTitle]]"><paper-button slot="applyButton" id="apllyNow" on-click="apllyNow">aplly now</paper-button></audio-aplly-with></section></article></template><script>class audioSetTargetAtTime extends Polymer.Element{static get is(){return"audio-set-target-at-time"}constructor(){super()}ready(){super.ready();this.max=""+this.contextNode[this.type].maxValue;this.min=""+this.contextNode[this.type].minValue;this.max=this.max.slice(0,4);this.min=this.min.slice(0,4)+" >="}static get properties(){return{agentClass:{type:Object},contextNode:{type:Object},type:{type:String,notify:!0},boxShow:{type:Boolean,value:!1,notify:!0,reflectToAttribute:!0},notHere:{type:Boolean,value:!1,notify:!0},titleFuncion:{type:String},typeFuncion:{type:String,observer:"calcTitles"},titles:{type:Array,value:[]},titleObj:{type:Object,value:function(){return titleObj}},elemTitle:{type:String,notify:!0},max:{type:String},min:{type:String},rEady:{type:Boolean,value:!1,notify:!0,reflectToAttribute:!0},waiting:{type:Boolean,value:!1,notify:!0,reflectToAttribute:!0},bindVol:{type:String,value:0},bindConst:{type:String,value:0},bindStart:{type:String,value:0},aplyIn:{type:String,value:0},show:{type:Boolean,value:!1,notify:!0,reflectToAttribute:!0}}}removeCall(){this.agentClass.revoveFunction(()=>{window.dispatchEvent(new CustomEvent("apllywith",{detail:{title:this.elemTitle}}));this.parentElement.removeChild(this)},this.elemTitle,this.titleFuncion)}showValues(){this.show=!this.show}apllyNow(){let that=this.agentClass;this.$.frovol.innerHTML="Waitng...";this.waiting=!0;let name=this.elemTitle+this.titleFuncion.split(" ").join("").toLocaleUpperCase();that.setAgentParamTo((err,context)=>{if(null===err){if(that.appliesWith[name]){for(let i=0;i<that.appliesWith[name].length;i++){that.appliesWith[name][i].elem.click()}}if("threshold"===this.type||"knee"===this.type||"ratio"===this.type||"attack"===this.type||"release"===this.type){window.dispatchEvent(new CustomEvent("compressor-changed",{}));console.log(this.type)}console.log(context.maxValue,context.minValue);setTimeout(()=>{this.waiting=!this.waiting;this.$.frovol.innerHTML="ready...";this.waiting=!1;this.rEady=!0},500);setTimeout(()=>{this.$.frovol.innerHTML=this.titleFuncion;this.rEady=!1;console.log(this.contextNode[this.type].maxValue,this.contextNode[this.type].minValue)},1500)}else{console.error(err);this.$.frovol.innerHTML="Something Went Wrong...";this.waiting=!0;setTimeout(()=>{this.$.frovol.innerHTML=this.titleFuncion;this.waiting=!1},3e3)}},this.contextNode,this.type,"setTargetAtTime",parseFloat(this.bindVol),parseFloat(this.bindStart),parseFloat(this.bindConst),!0)}}window.customElements.define(audioSetTargetAtTime.is,audioSetTargetAtTime);</script></dom-module></body></html>
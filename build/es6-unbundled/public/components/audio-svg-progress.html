<html><head><link rel="import" href="../bower_components/iron-iconset-svg/iron-iconset-svg.html"></head><body><dom-module id="audio-svg-progress"><template><style>.svg{height:30px;width:150px;}circle{cx:5;cy:10;r:5;fill:rgb(229, 233, 226);transition:all 0.5s ease-in 0s;}.circle[hover]{fill:rgb(170, 170, 170);transition:fill 0.5 ease-out 0s;}.circle[Hover]{cursor:e-resize;cy:10;r:10;fill:rgb(58, 235, 14);transition:r 0.5s ease-out 0s;}.rect1{x:10;y:10;fill:rgb(117, 117, 117);width:114px;height:5px;transition:height 0.5s ease-in, y 0.5s ease-in 0s;}.rect2{x:10;y:10;fill:rgb(58, 210, 236);height:5px;transition:all 0.5s ease-in 0s;}.rect1[hover]{y:5;height:10px;fill:rgb(255, 255, 255);}.rect2[hover]{y:5;height:10px;}paper-button{color:var(--app-color);}</style><svg class="svg" on-click="goToX"><g id="shape"><rect id="rect1" class="rect1" hover$="[[hover]]"></rect><rect id="rect2" class="rect2" hover$="[[hover]]"></rect><circle id="circle" class="circle" hover$="[[hover]]" on-mousedown="move"></circle></g></svg></template><script>class audioSvgProgress extends Polymer.Element{static get is(){return"audio-svg-progress"}constructor(){super()}ready(){super.ready();var hover=()=>{this.hover=!0},unHover=()=>{this.hover=!1};this.$.rect1.onmouseover=hover;this.$.rect2.onmouseover=hover;this.$.circle.onmouseover=hover;this.$.rect1.onmouseout=unHover;this.$.rect2.onmouseout=unHover;this.$.circle.onmouseout=unHover}static get properties(){return{hover:{type:Boolean,value:!1,notify:!0,reflectToAttribute:!0},moving:{type:Boolean,value:!1},timeNow:{type:String,notify:!0},percentage:{type:Number,value:0,notify:!0}}}changeThis(){this.change=!this.change}getposition(evt){let CTM=evt.target.getScreenCTM();return{x:(evt.clientX-CTM.e)/CTM.a}}getPercentage(coord){let goTo=100*(coord.x/125);this.percentage=100<=goTo?100:goTo}goToX(evt){let radius=parseInt(getComputedStyle(this.$.circle,null).r.split("px")[0]),coord=this.getposition(evt),parse=parseInt(coord.x-radius);if(3.5<=coord.x&&120>=parse){this.$.rect2.style.width=coord.x-radius+"px";this.$.circle.style.cx=coord.x;this.getPercentage(coord)}}progressToX(percentage,duration){if(!1===this.moving){let x=100<=duration?189*(percentage/100):130*(percentage/100),rectx=100<=duration?189*(percentage/100):125*(percentage/100),radius=parseInt(getComputedStyle(this.$.circle,null).r.split("px")[0]);this.$.circle.style.cx=parseInt(x)+radius;this.$.rect2.style.width=parseInt(rectx)+"px"}}move(evt){evt.preventDefault();var dead=event=>{event.preventDefault();event.target.onmousemove={};this.moving=!1};evt.target.onmouseover();evt.target.onmousemove=event=>{event.preventDefault();this.goToX(event);this.moving=!0};evt.target.onmouseup=dead;evt.target.onmouseleave=dead}}window.customElements.define(audioSvgProgress.is,audioSvgProgress);</script></dom-module></body></html>
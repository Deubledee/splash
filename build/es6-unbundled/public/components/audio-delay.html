<html><head><link rel="import" href="../bower_components/polymer/polymer-element.html"><link rel="import" href="./audio-functions.html"></head><body><dom-module id="audio-delay"><template><style include="shared-styles-typeG">:host{width:179px;margin-right:4px;}</style><article><label for="range">[[elemTitle]] <span>[[type]]</span> <button on-click="removeCall">x</button></label><div class="open divtitle-area" open$="[[open]]"><section id="title" class="open" open$="[[open]]"><paper-input id="titleInput" class="diferent" label="new title" title="new title" value="{{elemTitle}}"></paper-input><paper-button on-click="submit" raised="">aplly title</paper-button></section></div><section class="show" show$="[[show]]"><audio-functions id="functions" context-node="[[contextNode]]" agent-class="[[agentClass]]" type="[[delayTime]]"><div slot="functionArea"></div></audio-functions></section></article></template><script>class audioDelay extends Polymer.Element{static get is(){return"audio-delay"}constructor(){super()}ready(){super.ready()}static get properties(){return{elemTitle:{type:String,notify:!0},type:{type:String,value:"delay"},delayTime:{type:String,value:"delayTime"},agentClass:{type:Object,notify:!0},open:{type:Boolean,value:!0,notify:!0,reflectToAttribute:!0},show:{type:Boolean,value:!1,notify:!0,reflectToAttribute:!0}}}submit(){if(0<this.$.titleInput.value.length){this.elemTitle=this.elemTitle.split(" ").join("");this.agentClass.delay(error=>{if(null===error){var that1=this;window.dispatchEvent(new CustomEvent("connect",{detail:{element:that1}}));this.agentClass;this.open=!1;this.show=!0;this.$.functions.elemTitle=this.elemTitle;window.dispatchEvent(new CustomEvent("elemem-title",{detail:{title:this.elemTitle}}))}else{this.$.titleInput.value=error;setTimeout(()=>{this.$.titleInput.value=""},1e3)}},this.elemTitle)}}removeCall(){if(this.agentClass.contextNode[this.elemTitle]){this.agentClass.removeAgents(()=>{this.agentClass.revoveElemTitle(()=>{setTimeout(()=>{window.dispatchEvent(new CustomEvent("remove-elem",{detail:{title:this.elemTitle}}));window.dispatchEvent(new CustomEvent("apllywith",{detail:{title:this.elemTitle}}))},500);this.parentElement.removeChild(this)},this.elemTitle)},"contextNode",this.elemTitle)}else{this.parentElement.removeChild(this);window.dispatchEvent(new CustomEvent("remove-elem",{detail:{title:this.elemTitle}}))}}}window.customElements.define(audioDelay.is,audioDelay);</script></dom-module></body></html>